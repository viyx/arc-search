% :- table xmax/3, ymax3, xmin/3, ymin/3.

% :-use_module(library(aleph)).
% :- if(current_predicate(use_rendering/1)).
% :- use_rendering(prolog).
% :- endif.
:- aleph.
:- style_check(-discontiguous).
:- aleph_set(evalfn,posonly).
% :- aleph_set(check_redundant,true).
% :- aleph_set(check_useless,true).
% :- aleph_set(caching,true).
% :- aleph_set(cache_clauselength,4).
:- aleph_set(clauselength,7).
:- aleph_set(clauses,7).
% :- aleph_set(verbosity,3).
% :- aleph_set(construct_bottom,reduce). 
% :- aleph_set(search,id).
% :- aleph_set(samplesize,0).

:- modeh(3,outp(+nn,+nn,#color,+ii)).
% :- modeb(*,inp(-nn,-nn,#color,-ii)).
% :- modeb(*,inp(+nn,+nn,#color,-ii)).
:- modeb(*,xmax(-nn,#color,-ii)).
:- modeb(*,xmax(+nn,#color,-ii)).
% :- modeb(*,xmax(-nn,#color,+ii)).
% :- modeb(*,xmax(+nn,#color,+ii)).
% :- modeb(*,xmax(+nn,#color,-ii)).
% :- modeb(*,xmax(+nn,+color,+ii)).
% :- modeb(*,xmax(+nn,-color,-ii)).
% :- modeb(*,ymax(nn,#color,-ii)).
% :- modeb(*,xmin(nn,#color,-ii)).
% :- modeb(*,ymin(nn,#color,-ii)).
% :- modeb(*,inp(-nn,+nn,#color,-ii)).
% :- modeb(*,inp(+nn,-nn,#color,-ii)).
% :- modeb(*,btw(+nn,+nn,+nn)).
% :- modeb(*,btw1(+nn,+nn,+nn)).


% :- determination(outp/4,inp/4).
% :- determination(outp/4,ymax/3).
:- determination(outp/4,xmax/3).
% :- determination(outp/4,xmin/3).
% :- determination(outp/4,ymin/3).
% :- determination(outp/4,btw/3).
% :- determination(outp/4,btw1/3).

:-begin_bg.

btw1(A,B,C):-
    A1 is A + 1,
    B1 is B - 1,
    between(A1, B1, C).

btw(A,B,C):-
    between(A, B, C).

% xmax(4,'1',1).

xmax(X,C,I):-
    findall(X1,inp(X1,_,C,I),L),max_list(L,X).

xmin(X,C,I):-
    findall(X1,inp(X1,_,C,I),L),min_list(L,X).

ymax(Y,C,I):-
    findall(Y1,inp(_,Y1,C,I),L),max_list(L,Y).

ymin(Y,C,I):-
    findall(Y1,inp(_,Y1,C,I),L),min_list(L,Y).

% type definitions
color('8').
color('1').
color('3').  % green
ii(1).
ii(2).
ii(3).
% ii(4).

nn(0).
nn(1).
nn(2).
nn(3).
nn(4).
nn(5).
nn(6).
nn(7).
nn(8).
nn(9).
nn(10).
nn(11).
nn(12).
nn(13).
nn(14).
nn(15).
nn(16).
nn(17).
nn(18).
nn(19).
nn(20).
nn(21).
nn(22).
nn(23).
nn(24).
nn(25).
nn(26).
nn(27).

inp(1,0,'1',1).
inp(1,1,'1',1).
inp(1,3,'1',1).
inp(1,4,'1',1).
inp(1,5,'1',1).
inp(1,7,'1',1).
inp(1,8,'1',1).
inp(1,9,'1',1).
inp(1,11,'1',1).
inp(1,12,'1',1).
inp(1,13,'1',1).
inp(1,15,'1',1).
inp(1,16,'1',1).
inp(2,5,'8',1).
inp(2,6,'8',1).
inp(2,7,'8',1).
inp(2,8,'8',1).
inp(2,9,'8',1).
inp(3,0,'1',1).
inp(3,1,'1',1).
inp(3,2,'1',1).
inp(3,4,'1',1).
inp(3,5,'1',1).
inp(3,6,'1',1).
inp(3,7,'8',1).
inp(3,8,'1',1).
inp(3,9,'1',1).
inp(3,10,'1',1).
inp(3,12,'1',1).
inp(3,13,'1',1).
inp(3,14,'1',1).
inp(3,16,'1',1).
inp(4,5,'8',1).
inp(4,6,'8',1).
inp(4,7,'8',1).
inp(4,8,'8',1).
inp(4,9,'8',1).
inp(5,0,'1',1).
inp(5,1,'1',1).
inp(5,3,'1',1).
inp(5,4,'1',1).
inp(5,5,'1',1).
inp(5,6,'8',1).
inp(5,7,'1',1).
inp(5,8,'1',1).
inp(5,9,'1',1).
inp(5,11,'1',1).
inp(5,12,'1',1).
inp(5,13,'1',1).
inp(5,15,'1',1).
inp(5,16,'1',1).
inp(6,5,'8',1).
inp(6,6,'8',1).
inp(6,7,'8',1).
inp(6,8,'8',1).
inp(6,9,'8',1).
inp(7,0,'1',1).
inp(7,1,'1',1).
inp(7,2,'1',1).
inp(7,4,'1',1).
inp(7,5,'1',1).
inp(7,6,'1',1).
inp(7,8,'1',1).
inp(7,9,'1',1).
inp(7,10,'1',1).
inp(7,12,'1',1).
inp(7,13,'1',1).
inp(7,14,'1',1).
inp(7,16,'1',1).
inp(9,0,'1',1).
inp(9,1,'1',1).
inp(9,3,'1',1).
inp(9,4,'1',1).
inp(9,5,'1',1).
inp(9,7,'1',1).
inp(9,8,'1',1).
inp(9,9,'1',1).
inp(9,11,'1',1).
inp(9,12,'1',1).
inp(9,13,'1',1).
inp(9,15,'1',1).
inp(9,16,'1',1).
inp(11,0,'1',1).
inp(11,1,'1',1).
inp(11,2,'1',1).
inp(11,4,'1',1).
inp(11,5,'1',1).
inp(11,6,'1',1).
inp(11,8,'1',1).
inp(11,9,'1',1).
inp(11,10,'1',1).
inp(11,12,'1',1).
inp(11,13,'1',1).
inp(11,14,'1',1).
inp(11,16,'1',1).
inp(13,0,'1',1).
inp(13,1,'1',1).
inp(13,3,'1',1).
inp(13,4,'1',1).
inp(13,5,'1',1).
inp(13,7,'1',1).
inp(13,8,'1',1).
inp(13,9,'1',1).
inp(13,11,'1',1).
inp(13,12,'1',1).
inp(13,13,'1',1).
inp(13,15,'1',1).
inp(13,16,'1',1).
inp(15,0,'1',1).
inp(15,1,'1',1).
inp(15,2,'1',1).
inp(15,4,'1',1).
inp(15,5,'1',1).
inp(15,6,'1',1).
inp(15,8,'1',1).
inp(15,9,'1',1).
inp(15,10,'1',1).
inp(15,12,'1',1).
inp(15,13,'1',1).
inp(15,14,'1',1).
inp(15,16,'1',1).
inp(0,0,'1',2).
inp(0,4,'1',2).
inp(0,12,'1',2).
inp(0,14,'1',2).
inp(0,16,'1',2).
inp(1,0,'1',2).
inp(1,1,'1',2).
inp(1,3,'1',2).
inp(1,5,'1',2).
inp(1,7,'1',2).
inp(1,8,'1',2).
inp(1,9,'1',2).
inp(1,10,'1',2).
inp(1,11,'1',2).
inp(1,14,'1',2).
inp(1,15,'1',2).
inp(2,3,'1',2).
inp(2,7,'1',2).
inp(2,10,'1',2).
inp(2,11,'1',2).
inp(2,16,'1',2).
inp(3,4,'1',2).
inp(3,6,'1',2).
inp(3,8,'1',2).
inp(3,10,'1',2).
inp(3,11,'1',2).
inp(3,15,'1',2).
inp(4,2,'1',2).
inp(4,5,'1',2).
inp(4,6,'1',2).
inp(4,12,'1',2).
inp(4,13,'1',2).
inp(4,15,'1',2).
inp(4,16,'1',2).
inp(5,5,'1',2).
inp(5,6,'1',2).
inp(5,7,'1',2).
inp(5,9,'1',2).
inp(5,10,'1',2).
inp(5,12,'1',2).
inp(5,13,'1',2).
inp(6,3,'1',2).
inp(6,6,'1',2).
inp(6,7,'1',2).
inp(6,13,'1',2).
inp(7,0,'1',2).
inp(7,1,'8',2).
inp(7,2,'1',2).
inp(7,3,'8',2).
inp(7,4,'8',2).
inp(7,5,'8',2).
inp(7,6,'8',2).
inp(7,7,'8',2).
inp(7,8,'8',2).
inp(7,9,'1',2).
inp(7,12,'1',2).
inp(7,14,'1',2).
inp(7,15,'1',2).
inp(8,1,'8',2).
inp(8,2,'1',2).
inp(8,3,'8',2).
inp(8,4,'1',2).
inp(8,5,'1',2).
inp(8,6,'1',2).
inp(8,7,'8',2).
inp(8,8,'8',2).
inp(8,10,'1',2).
inp(8,11,'1',2).
inp(9,1,'1',2).
inp(9,2,'1',2).
inp(9,3,'8',2).
inp(9,4,'1',2).
inp(9,5,'1',2).
inp(9,6,'8',2).
inp(9,7,'1',2).
inp(9,8,'8',2).
inp(9,11,'1',2).
inp(9,12,'1',2).
inp(10,1,'1',2).
inp(10,4,'1',2).
inp(10,8,'1',2).
inp(10,15,'1',2).
inp(11,1,'1',2).
inp(11,6,'1',2).
inp(11,8,'1',2).
inp(11,10,'1',2).
inp(11,15,'1',2).
inp(11,16,'1',2).
inp(12,0,'1',2).
inp(12,4,'1',2).
inp(12,7,'1',2).
inp(12,11,'1',2).
inp(12,13,'1',2).
inp(12,16,'1',2).
inp(13,2,'1',2).
inp(13,4,'1',2).
inp(13,6,'1',2).
inp(13,8,'1',2).
inp(13,10,'1',2).
inp(13,12,'1',2).
inp(13,14,'1',2).
inp(14,2,'1',2).
inp(14,3,'1',2).
inp(14,5,'1',2).
inp(14,6,'1',2).
inp(14,7,'1',2).
inp(14,8,'1',2).
inp(14,9,'1',2).
inp(14,10,'1',2).
inp(14,16,'1',2).
inp(15,1,'1',2).
inp(15,2,'1',2).
inp(15,4,'1',2).
inp(15,5,'1',2).
inp(15,11,'1',2).
inp(15,13,'1',2).
inp(16,2,'1',2).
inp(16,9,'1',2).
inp(16,11,'1',2).
inp(16,15,'1',2).
inp(16,16,'1',2).
inp(0,1,'1',3).
inp(0,4,'1',3).
inp(0,7,'1',3).
inp(0,10,'1',3).
inp(0,13,'1',3).
inp(0,16,'1',3).
inp(1,0,'1',3).
inp(1,2,'1',3).
inp(1,3,'1',3).
inp(1,5,'1',3).
inp(1,6,'1',3).
inp(1,8,'1',3).
inp(1,9,'1',3).
inp(1,11,'1',3).
inp(1,12,'1',3).
inp(1,14,'1',3).
inp(1,15,'1',3).
inp(2,1,'1',3).
inp(2,4,'1',3).
inp(2,7,'1',3).
inp(2,10,'1',3).
inp(2,13,'1',3).
inp(2,16,'1',3).
inp(3,0,'1',3).
inp(3,2,'1',3).
inp(3,3,'1',3).
inp(3,4,'8',3).
inp(3,5,'1',3).
inp(3,6,'1',3).
inp(3,7,'8',3).
inp(3,8,'1',3).
inp(3,9,'1',3).
inp(3,11,'1',3).
inp(3,12,'1',3).
inp(3,14,'1',3).
inp(3,15,'1',3).
inp(4,1,'1',3).
inp(4,4,'1',3).
inp(4,5,'8',3).
inp(4,6,'8',3).
inp(4,7,'1',3).
inp(4,8,'8',3).
inp(4,10,'1',3).
inp(4,13,'1',3).
inp(4,16,'1',3).
inp(5,0,'1',3).
inp(5,2,'1',3).
inp(5,3,'1',3).
inp(5,4,'8',3).
inp(5,5,'1',3).
inp(5,6,'1',3).
inp(5,7,'8',3).
inp(5,8,'1',3).
inp(5,9,'1',3).
inp(5,11,'1',3).
inp(5,12,'1',3).
inp(5,14,'1',3).
inp(5,15,'1',3).
inp(6,1,'1',3).
inp(6,4,'1',3).
inp(6,5,'8',3).
inp(6,6,'8',3).
inp(6,7,'1',3).
inp(6,8,'8',3).
inp(6,10,'1',3).
inp(6,13,'1',3).
inp(6,16,'1',3).
inp(7,0,'1',3).
inp(7,2,'1',3).
inp(7,3,'1',3).
inp(7,4,'8',3).
inp(7,5,'1',3).
inp(7,6,'1',3).
inp(7,7,'8',3).
inp(7,8,'1',3).
inp(7,9,'1',3).
inp(7,11,'1',3).
inp(7,12,'1',3).
inp(7,14,'1',3).
inp(7,15,'1',3).
inp(8,1,'1',3).
inp(8,4,'1',3).
inp(8,7,'1',3).
inp(8,10,'1',3).
inp(8,13,'1',3).
inp(8,16,'1',3).
inp(9,0,'1',3).
inp(9,2,'1',3).
inp(9,3,'1',3).
inp(9,5,'1',3).
inp(9,6,'1',3).
inp(9,8,'1',3).
inp(9,9,'1',3).
inp(9,11,'1',3).
inp(9,12,'1',3).
inp(9,14,'1',3).
inp(9,15,'1',3).
inp(10,1,'1',3).
inp(10,4,'1',3).
inp(10,7,'1',3).
inp(10,10,'1',3).
inp(10,13,'1',3).
inp(10,16,'1',3).
inp(11,0,'1',3).
inp(11,2,'1',3).
inp(11,3,'1',3).
inp(11,5,'1',3).
inp(11,6,'1',3).
inp(11,8,'1',3).
inp(11,9,'1',3).
inp(11,11,'1',3).
inp(11,12,'1',3).
inp(11,14,'1',3).
inp(11,15,'1',3).
inp(12,1,'1',3).
inp(12,4,'1',3).
inp(12,7,'1',3).
inp(12,10,'1',3).
inp(12,13,'1',3).
inp(12,16,'1',3).
inp(13,0,'1',3).
inp(13,2,'1',3).
inp(13,3,'1',3).
inp(13,5,'1',3).
inp(13,6,'1',3).
inp(13,8,'1',3).
inp(13,9,'1',3).
inp(13,11,'1',3).
inp(13,12,'1',3).
inp(13,14,'1',3).
inp(13,15,'1',3).
inp(14,1,'1',3).
inp(14,4,'1',3).
inp(14,7,'1',3).
inp(14,10,'1',3).
inp(14,13,'1',3).
inp(14,16,'1',3).
inp(15,0,'1',3).
inp(15,2,'1',3).
inp(15,3,'1',3).
inp(15,5,'1',3).
inp(15,6,'1',3).
inp(15,8,'1',3).
inp(15,9,'1',3).
inp(15,11,'1',3).
inp(15,12,'1',3).
inp(15,14,'1',3).
inp(15,15,'1',3).
inp(16,1,'1',3).
inp(16,4,'1',3).
inp(16,7,'1',3).
inp(16,10,'1',3).
inp(16,13,'1',3).
inp(16,16,'1',3).
:-end_bg.

:-begin_in_pos.
outp(1,0,'1',1).
outp(1,1,'1',1).
outp(1,3,'1',1).
outp(1,4,'1',1).
outp(1,5,'1',1).
outp(1,7,'1',1).
outp(1,8,'1',1).
outp(1,9,'1',1).
outp(1,11,'1',1).
outp(1,12,'1',1).
outp(1,13,'1',1).
outp(1,15,'1',1).
outp(1,16,'1',1).
outp(2,5,'8',1).
outp(2,6,'8',1).
outp(2,7,'8',1).
outp(2,8,'8',1).
outp(2,9,'8',1).
outp(3,0,'1',1).
outp(3,1,'1',1).
outp(3,2,'1',1).
outp(3,4,'1',1).
outp(3,5,'3',1).
outp(3,6,'3',1).
outp(3,7,'8',1).
outp(3,8,'3',1).
outp(3,9,'3',1).
outp(3,10,'1',1).
outp(3,12,'1',1).
outp(3,13,'1',1).
outp(3,14,'1',1).
outp(3,16,'1',1).
outp(4,5,'8',1).
outp(4,6,'8',1).
outp(4,7,'8',1).
outp(4,8,'8',1).
outp(4,9,'8',1).
outp(5,0,'1',1).
outp(5,1,'1',1).
outp(5,3,'1',1).
outp(5,4,'1',1).
outp(5,5,'3',1).
outp(5,6,'8',1).
outp(5,7,'3',1).
outp(5,8,'3',1).
outp(5,9,'3',1).
outp(5,11,'1',1).
outp(5,12,'1',1).
outp(5,13,'1',1).
outp(5,15,'1',1).
outp(5,16,'1',1).
outp(6,5,'8',1).
outp(6,6,'8',1).
outp(6,7,'8',1).
outp(6,8,'8',1).
outp(6,9,'8',1).
outp(7,0,'1',1).
outp(7,1,'1',1).
outp(7,2,'1',1).
outp(7,4,'1',1).
outp(7,5,'1',1).
outp(7,6,'1',1).
outp(7,8,'1',1).
outp(7,9,'1',1).
outp(7,10,'1',1).
outp(7,12,'1',1).
outp(7,13,'1',1).
outp(7,14,'1',1).
outp(7,16,'1',1).
outp(9,0,'1',1).
outp(9,1,'1',1).
outp(9,3,'1',1).
outp(9,4,'1',1).
outp(9,5,'1',1).
outp(9,7,'1',1).
outp(9,8,'1',1).
outp(9,9,'1',1).
outp(9,11,'1',1).
outp(9,12,'1',1).
outp(9,13,'1',1).
outp(9,15,'1',1).
outp(9,16,'1',1).
outp(11,0,'1',1).
outp(11,1,'1',1).
outp(11,2,'1',1).
outp(11,4,'1',1).
outp(11,5,'1',1).
outp(11,6,'1',1).
outp(11,8,'1',1).
outp(11,9,'1',1).
outp(11,10,'1',1).
outp(11,12,'1',1).
outp(11,13,'1',1).
outp(11,14,'1',1).
outp(11,16,'1',1).
outp(13,0,'1',1).
outp(13,1,'1',1).
outp(13,3,'1',1).
outp(13,4,'1',1).
outp(13,5,'1',1).
outp(13,7,'1',1).
outp(13,8,'1',1).
outp(13,9,'1',1).
outp(13,11,'1',1).
outp(13,12,'1',1).
outp(13,13,'1',1).
outp(13,15,'1',1).
outp(13,16,'1',1).
outp(15,0,'1',1).
outp(15,1,'1',1).
outp(15,2,'1',1).
outp(15,4,'1',1).
outp(15,5,'1',1).
outp(15,6,'1',1).
outp(15,8,'1',1).
outp(15,9,'1',1).
outp(15,10,'1',1).
outp(15,12,'1',1).
outp(15,13,'1',1).
outp(15,14,'1',1).
outp(15,16,'1',1).
outp(0,0,'1',2).
outp(0,4,'1',2).
outp(0,12,'1',2).
outp(0,14,'1',2).
outp(0,16,'1',2).
outp(1,0,'1',2).
outp(1,1,'1',2).
outp(1,3,'1',2).
outp(1,5,'1',2).
outp(1,7,'1',2).
outp(1,8,'1',2).
outp(1,9,'1',2).
outp(1,10,'1',2).
outp(1,11,'1',2).
outp(1,14,'1',2).
outp(1,15,'1',2).
outp(2,3,'1',2).
outp(2,7,'1',2).
outp(2,10,'1',2).
outp(2,11,'1',2).
outp(2,16,'1',2).
outp(3,4,'1',2).
outp(3,6,'1',2).
outp(3,8,'1',2).
outp(3,10,'1',2).
outp(3,11,'1',2).
outp(3,15,'1',2).
outp(4,2,'1',2).
outp(4,5,'1',2).
outp(4,6,'1',2).
outp(4,12,'1',2).
outp(4,13,'1',2).
outp(4,15,'1',2).
outp(4,16,'1',2).
outp(5,5,'1',2).
outp(5,6,'1',2).
outp(5,7,'1',2).
outp(5,9,'1',2).
outp(5,10,'1',2).
outp(5,12,'1',2).
outp(5,13,'1',2).
outp(6,3,'1',2).
outp(6,6,'1',2).
outp(6,7,'1',2).
outp(6,13,'1',2).
outp(7,0,'1',2).
outp(7,1,'8',2).
outp(7,2,'3',2).
outp(7,3,'8',2).
outp(7,4,'8',2).
outp(7,5,'8',2).
outp(7,6,'8',2).
outp(7,7,'8',2).
outp(7,8,'8',2).
outp(7,9,'1',2).
outp(7,12,'1',2).
outp(7,14,'1',2).
outp(7,15,'1',2).
outp(8,1,'8',2).
outp(8,2,'3',2).
outp(8,3,'8',2).
outp(8,4,'3',2).
outp(8,5,'3',2).
outp(8,6,'3',2).
outp(8,7,'8',2).
outp(8,8,'8',2).
outp(8,10,'1',2).
outp(8,11,'1',2).
outp(9,1,'3',2).
outp(9,2,'3',2).
outp(9,3,'8',2).
outp(9,4,'3',2).
outp(9,5,'3',2).
outp(9,6,'8',2).
outp(9,7,'3',2).
outp(9,8,'8',2).
outp(9,11,'1',2).
outp(9,12,'1',2).
outp(10,1,'1',2).
outp(10,4,'1',2).
outp(10,8,'1',2).
outp(10,15,'1',2).
outp(11,1,'1',2).
outp(11,6,'1',2).
outp(11,8,'1',2).
outp(11,10,'1',2).
outp(11,15,'1',2).
outp(11,16,'1',2).
outp(12,0,'1',2).
outp(12,4,'1',2).
outp(12,7,'1',2).
outp(12,11,'1',2).
outp(12,13,'1',2).
outp(12,16,'1',2).
outp(13,2,'1',2).
outp(13,4,'1',2).
outp(13,6,'1',2).
outp(13,8,'1',2).
outp(13,10,'1',2).
outp(13,12,'1',2).
outp(13,14,'1',2).
outp(14,2,'1',2).
outp(14,3,'1',2).
outp(14,5,'1',2).
outp(14,6,'1',2).
outp(14,7,'1',2).
outp(14,8,'1',2).
outp(14,9,'1',2).
outp(14,10,'1',2).
outp(14,16,'1',2).
outp(15,1,'1',2).
outp(15,2,'1',2).
outp(15,4,'1',2).
outp(15,5,'1',2).
outp(15,11,'1',2).
outp(15,13,'1',2).
outp(16,2,'1',2).
outp(16,9,'1',2).
outp(16,11,'1',2).
outp(16,15,'1',2).
outp(16,16,'1',2).
outp(0,1,'1',3).
outp(0,4,'1',3).
outp(0,7,'1',3).
outp(0,10,'1',3).
outp(0,13,'1',3).
outp(0,16,'1',3).
outp(1,0,'1',3).
outp(1,2,'1',3).
outp(1,3,'1',3).
outp(1,5,'1',3).
outp(1,6,'1',3).
outp(1,8,'1',3).
outp(1,9,'1',3).
outp(1,11,'1',3).
outp(1,12,'1',3).
outp(1,14,'1',3).
outp(1,15,'1',3).
outp(2,1,'1',3).
outp(2,4,'1',3).
outp(2,7,'1',3).
outp(2,10,'1',3).
outp(2,13,'1',3).
outp(2,16,'1',3).
outp(3,0,'1',3).
outp(3,2,'1',3).
outp(3,3,'1',3).
outp(3,4,'8',3).
outp(3,5,'3',3).
outp(3,6,'3',3).
outp(3,7,'8',3).
outp(3,8,'3',3).
outp(3,9,'1',3).
outp(3,11,'1',3).
outp(3,12,'1',3).
outp(3,14,'1',3).
outp(3,15,'1',3).
outp(4,1,'1',3).
outp(4,4,'3',3).
outp(4,5,'8',3).
outp(4,6,'8',3).
outp(4,7,'3',3).
outp(4,8,'8',3).
outp(4,10,'1',3).
outp(4,13,'1',3).
outp(4,16,'1',3).
outp(5,0,'1',3).
outp(5,2,'1',3).
outp(5,3,'1',3).
outp(5,4,'8',3).
outp(5,5,'3',3).
outp(5,6,'3',3).
outp(5,7,'8',3).
outp(5,8,'3',3).
outp(5,9,'1',3).
outp(5,11,'1',3).
outp(5,12,'1',3).
outp(5,14,'1',3).
outp(5,15,'1',3).
outp(6,1,'1',3).
outp(6,4,'3',3).
outp(6,5,'8',3).
outp(6,6,'8',3).
outp(6,7,'3',3).
outp(6,8,'8',3).
outp(6,10,'1',3).
outp(6,13,'1',3).
outp(6,16,'1',3).
outp(7,0,'1',3).
outp(7,2,'1',3).
outp(7,3,'1',3).
outp(7,4,'8',3).
outp(7,5,'3',3).
outp(7,6,'3',3).
outp(7,7,'8',3).
outp(7,8,'3',3).
outp(7,9,'1',3).
outp(7,11,'1',3).
outp(7,12,'1',3).
outp(7,14,'1',3).
outp(7,15,'1',3).
outp(8,1,'1',3).
outp(8,4,'1',3).
outp(8,7,'1',3).
outp(8,10,'1',3).
outp(8,13,'1',3).
outp(8,16,'1',3).
outp(9,0,'1',3).
outp(9,2,'1',3).
outp(9,3,'1',3).
outp(9,5,'1',3).
outp(9,6,'1',3).
outp(9,8,'1',3).
outp(9,9,'1',3).
outp(9,11,'1',3).
outp(9,12,'1',3).
outp(9,14,'1',3).
outp(9,15,'1',3).
outp(10,1,'1',3).
outp(10,4,'1',3).
outp(10,7,'1',3).
outp(10,10,'1',3).
outp(10,13,'1',3).
outp(10,16,'1',3).
outp(11,0,'1',3).
outp(11,2,'1',3).
outp(11,3,'1',3).
outp(11,5,'1',3).
outp(11,6,'1',3).
outp(11,8,'1',3).
outp(11,9,'1',3).
outp(11,11,'1',3).
outp(11,12,'1',3).
outp(11,14,'1',3).
outp(11,15,'1',3).
outp(12,1,'1',3).
outp(12,4,'1',3).
outp(12,7,'1',3).
outp(12,10,'1',3).
outp(12,13,'1',3).
outp(12,16,'1',3).
outp(13,0,'1',3).
outp(13,2,'1',3).
outp(13,3,'1',3).
outp(13,5,'1',3).
outp(13,6,'1',3).
outp(13,8,'1',3).
outp(13,9,'1',3).
outp(13,11,'1',3).
outp(13,12,'1',3).
outp(13,14,'1',3).
outp(13,15,'1',3).
outp(14,1,'1',3).
outp(14,4,'1',3).
outp(14,7,'1',3).
outp(14,10,'1',3).
outp(14,13,'1',3).
outp(14,16,'1',3).
outp(15,0,'1',3).
outp(15,2,'1',3).
outp(15,3,'1',3).
outp(15,5,'1',3).
outp(15,6,'1',3).
outp(15,8,'1',3).
outp(15,9,'1',3).
outp(15,11,'1',3).
outp(15,12,'1',3).
outp(15,14,'1',3).
outp(15,15,'1',3).
outp(16,1,'1',3).
outp(16,4,'1',3).
outp(16,7,'1',3).
outp(16,10,'1',3).
outp(16,13,'1',3).
outp(16,16,'1',3).
outp(0,0,'1',4).
outp(0,3,'1',4).
outp(0,6,'1',4).
outp(0,9,'1',4).
outp(0,12,'1',4).
outp(0,15,'1',4).
outp(1,1,'1',4).
outp(1,4,'1',4).
outp(1,7,'1',4).
outp(1,10,'1',4).
outp(1,13,'1',4).
outp(1,16,'1',4).
outp(2,2,'1',4).
outp(2,5,'1',4).
outp(2,8,'1',4).
outp(2,11,'1',4).
outp(2,14,'1',4).
outp(3,0,'1',4).
outp(3,3,'1',4).
outp(3,6,'1',4).
outp(3,9,'1',4).
outp(3,12,'1',4).
outp(3,15,'1',4).
outp(4,1,'1',4).
outp(4,4,'1',4).
outp(4,7,'1',4).
outp(4,10,'1',4).
outp(4,13,'1',4).
outp(4,16,'1',4).
outp(5,2,'1',4).
outp(5,5,'1',4).
outp(5,8,'1',4).
outp(5,11,'1',4).
outp(5,14,'1',4).
outp(6,0,'1',4).
outp(6,3,'1',4).
outp(6,6,'1',4).
outp(6,9,'1',4).
outp(6,12,'1',4).
outp(6,15,'1',4).
outp(7,1,'1',4).
outp(7,4,'1',4).
outp(7,7,'1',4).
outp(7,10,'1',4).
outp(7,13,'1',4).
outp(7,16,'1',4).
outp(8,2,'1',4).
outp(8,5,'1',4).
outp(8,8,'1',4).
outp(8,11,'1',4).
outp(8,14,'1',4).
outp(9,0,'1',4).
outp(9,3,'1',4).
outp(9,6,'1',4).
outp(9,9,'1',4).
outp(9,12,'1',4).
outp(9,15,'1',4).
outp(10,1,'1',4).
outp(10,4,'1',4).
outp(10,7,'1',4).
outp(10,10,'1',4).
outp(10,13,'1',4).
outp(10,16,'1',4).
outp(11,2,'1',4).
outp(11,5,'1',4).
outp(11,7,'8',4).
outp(11,8,'3',4).
outp(11,9,'8',4).
outp(11,10,'8',4).
outp(11,11,'3',4).
outp(11,12,'8',4).
outp(11,14,'1',4).
outp(12,0,'1',4).
outp(12,3,'1',4).
outp(12,6,'1',4).
outp(12,7,'8',4).
outp(12,8,'8',4).
outp(12,9,'3',4).
outp(12,10,'8',4).
outp(12,11,'8',4).
outp(12,12,'3',4).
outp(12,15,'1',4).
outp(13,1,'1',4).
outp(13,4,'1',4).
outp(13,7,'3',4).
outp(13,8,'8',4).
outp(13,9,'8',4).
outp(13,10,'3',4).
outp(13,11,'8',4).
outp(13,12,'8',4).
outp(13,13,'1',4).
outp(13,16,'1',4).
outp(14,2,'1',4).
outp(14,5,'1',4).
outp(14,7,'8',4).
outp(14,8,'3',4).
outp(14,9,'8',4).
outp(14,10,'8',4).
outp(14,11,'3',4).
outp(14,12,'8',4).
outp(14,14,'1',4).
outp(15,0,'1',4).
outp(15,3,'1',4).
outp(15,6,'1',4).
outp(15,9,'1',4).
outp(15,12,'1',4).
outp(15,15,'1',4).
outp(16,1,'1',4).
outp(16,4,'1',4).
outp(16,7,'1',4).
outp(16,10,'1',4).
outp(16,13,'1',4).
outp(16,16,'1',4).
outp(1,0,'1',1).
outp(1,1,'1',1).
outp(1,3,'1',1).
outp(1,4,'1',1).
outp(1,5,'1',1).
outp(1,7,'1',1).
outp(1,8,'1',1).
outp(1,9,'1',1).
outp(1,11,'1',1).
outp(1,12,'1',1).
outp(1,13,'1',1).
outp(1,15,'1',1).
outp(1,16,'1',1).
outp(2,5,'8',1).
outp(2,6,'8',1).
outp(2,7,'8',1).
outp(2,8,'8',1).
outp(2,9,'8',1).
outp(3,0,'1',1).
outp(3,1,'1',1).
outp(3,2,'1',1).
outp(3,4,'1',1).
outp(3,5,'3',1).
outp(3,6,'3',1).
outp(3,7,'8',1).
outp(3,8,'3',1).
outp(3,9,'3',1).
outp(3,10,'1',1).
outp(3,12,'1',1).
outp(3,13,'1',1).
outp(3,14,'1',1).
outp(3,16,'1',1).
outp(4,5,'8',1).
outp(4,6,'8',1).
outp(4,7,'8',1).
outp(4,8,'8',1).
outp(4,9,'8',1).
outp(5,0,'1',1).
outp(5,1,'1',1).
outp(5,3,'1',1).
outp(5,4,'1',1).
outp(5,5,'3',1).
outp(5,6,'8',1).
outp(5,7,'3',1).
outp(5,8,'3',1).
outp(5,9,'3',1).
outp(5,11,'1',1).
outp(5,12,'1',1).
outp(5,13,'1',1).
outp(5,15,'1',1).
outp(5,16,'1',1).
outp(6,5,'8',1).
outp(6,6,'8',1).
outp(6,7,'8',1).
outp(6,8,'8',1).
outp(6,9,'8',1).
outp(7,0,'1',1).
outp(7,1,'1',1).
outp(7,2,'1',1).
outp(7,4,'1',1).
outp(7,5,'1',1).
outp(7,6,'1',1).
outp(7,8,'1',1).
outp(7,9,'1',1).
outp(7,10,'1',1).
outp(7,12,'1',1).
outp(7,13,'1',1).
outp(7,14,'1',1).
outp(7,16,'1',1).
outp(9,0,'1',1).
outp(9,1,'1',1).
outp(9,3,'1',1).
outp(9,4,'1',1).
outp(9,5,'1',1).
outp(9,7,'1',1).
outp(9,8,'1',1).
outp(9,9,'1',1).
outp(9,11,'1',1).
outp(9,12,'1',1).
outp(9,13,'1',1).
outp(9,15,'1',1).
outp(9,16,'1',1).
outp(11,0,'1',1).
outp(11,1,'1',1).
outp(11,2,'1',1).
outp(11,4,'1',1).
outp(11,5,'1',1).
outp(11,6,'1',1).
outp(11,8,'1',1).
outp(11,9,'1',1).
outp(11,10,'1',1).
outp(11,12,'1',1).
outp(11,13,'1',1).
outp(11,14,'1',1).
outp(11,16,'1',1).
outp(13,0,'1',1).
outp(13,1,'1',1).
outp(13,3,'1',1).
outp(13,4,'1',1).
outp(13,5,'1',1).
outp(13,7,'1',1).
outp(13,8,'1',1).
outp(13,9,'1',1).
outp(13,11,'1',1).
outp(13,12,'1',1).
outp(13,13,'1',1).
outp(13,15,'1',1).
outp(13,16,'1',1).
outp(15,0,'1',1).
outp(15,1,'1',1).
outp(15,2,'1',1).
outp(15,4,'1',1).
outp(15,5,'1',1).
outp(15,6,'1',1).
outp(15,8,'1',1).
outp(15,9,'1',1).
outp(15,10,'1',1).
outp(15,12,'1',1).
outp(15,13,'1',1).
outp(15,14,'1',1).
outp(15,16,'1',1).
outp(0,0,'1',2).
outp(0,4,'1',2).
outp(0,12,'1',2).
outp(0,14,'1',2).
outp(0,16,'1',2).
outp(1,0,'1',2).
outp(1,1,'1',2).
outp(1,3,'1',2).
outp(1,5,'1',2).
outp(1,7,'1',2).
outp(1,8,'1',2).
outp(1,9,'1',2).
outp(1,10,'1',2).
outp(1,11,'1',2).
outp(1,14,'1',2).
outp(1,15,'1',2).
outp(2,3,'1',2).
outp(2,7,'1',2).
outp(2,10,'1',2).
outp(2,11,'1',2).
outp(2,16,'1',2).
outp(3,4,'1',2).
outp(3,6,'1',2).
outp(3,8,'1',2).
outp(3,10,'1',2).
outp(3,11,'1',2).
outp(3,15,'1',2).
outp(4,2,'1',2).
outp(4,5,'1',2).
outp(4,6,'1',2).
outp(4,12,'1',2).
outp(4,13,'1',2).
outp(4,15,'1',2).
outp(4,16,'1',2).
outp(5,5,'1',2).
outp(5,6,'1',2).
outp(5,7,'1',2).
outp(5,9,'1',2).
outp(5,10,'1',2).
outp(5,12,'1',2).
outp(5,13,'1',2).
outp(6,3,'1',2).
outp(6,6,'1',2).
outp(6,7,'1',2).
outp(6,13,'1',2).
outp(7,0,'1',2).
outp(7,1,'8',2).
outp(7,2,'3',2).
outp(7,3,'8',2).
outp(7,4,'8',2).
outp(7,5,'8',2).
outp(7,6,'8',2).
outp(7,7,'8',2).
outp(7,8,'8',2).
outp(7,9,'1',2).
outp(7,12,'1',2).
outp(7,14,'1',2).
outp(7,15,'1',2).
outp(8,1,'8',2).
outp(8,2,'3',2).
outp(8,3,'8',2).
outp(8,4,'3',2).
outp(8,5,'3',2).
outp(8,6,'3',2).
outp(8,7,'8',2).
outp(8,8,'8',2).
outp(8,10,'1',2).
outp(8,11,'1',2).
outp(9,1,'3',2).
outp(9,2,'3',2).
outp(9,3,'8',2).
outp(9,4,'3',2).
outp(9,5,'3',2).
outp(9,6,'8',2).
outp(9,7,'3',2).
outp(9,8,'8',2).
outp(9,11,'1',2).
outp(9,12,'1',2).
outp(10,1,'1',2).
outp(10,4,'1',2).
outp(10,8,'1',2).
outp(10,15,'1',2).
outp(11,1,'1',2).
outp(11,6,'1',2).
outp(11,8,'1',2).
outp(11,10,'1',2).
outp(11,15,'1',2).
outp(11,16,'1',2).
outp(12,0,'1',2).
outp(12,4,'1',2).
outp(12,7,'1',2).
outp(12,11,'1',2).
outp(12,13,'1',2).
outp(12,16,'1',2).
outp(13,2,'1',2).
outp(13,4,'1',2).
outp(13,6,'1',2).
outp(13,8,'1',2).
outp(13,10,'1',2).
outp(13,12,'1',2).
outp(13,14,'1',2).
outp(14,2,'1',2).
outp(14,3,'1',2).
outp(14,5,'1',2).
outp(14,6,'1',2).
outp(14,7,'1',2).
outp(14,8,'1',2).
outp(14,9,'1',2).
outp(14,10,'1',2).
outp(14,16,'1',2).
outp(15,1,'1',2).
outp(15,2,'1',2).
outp(15,4,'1',2).
outp(15,5,'1',2).
outp(15,11,'1',2).
outp(15,13,'1',2).
outp(16,2,'1',2).
outp(16,9,'1',2).
outp(16,11,'1',2).
outp(16,15,'1',2).
outp(16,16,'1',2).
outp(0,1,'1',3).
outp(0,4,'1',3).
outp(0,7,'1',3).
outp(0,10,'1',3).
outp(0,13,'1',3).
outp(0,16,'1',3).
outp(1,0,'1',3).
outp(1,2,'1',3).
outp(1,3,'1',3).
outp(1,5,'1',3).
outp(1,6,'1',3).
outp(1,8,'1',3).
outp(1,9,'1',3).
outp(1,11,'1',3).
outp(1,12,'1',3).
outp(1,14,'1',3).
outp(1,15,'1',3).
outp(2,1,'1',3).
outp(2,4,'1',3).
outp(2,7,'1',3).
outp(2,10,'1',3).
outp(2,13,'1',3).
outp(2,16,'1',3).
outp(3,0,'1',3).
outp(3,2,'1',3).
outp(3,3,'1',3).
outp(3,4,'8',3).
outp(3,5,'3',3).
outp(3,6,'3',3).
outp(3,7,'8',3).
outp(3,8,'3',3).
outp(3,9,'1',3).
outp(3,11,'1',3).
outp(3,12,'1',3).
outp(3,14,'1',3).
outp(3,15,'1',3).
outp(4,1,'1',3).
outp(4,4,'3',3).
outp(4,5,'8',3).
outp(4,6,'8',3).
outp(4,7,'3',3).
outp(4,8,'8',3).
outp(4,10,'1',3).
outp(4,13,'1',3).
outp(4,16,'1',3).
outp(5,0,'1',3).
outp(5,2,'1',3).
outp(5,3,'1',3).
outp(5,4,'8',3).
outp(5,5,'3',3).
outp(5,6,'3',3).
outp(5,7,'8',3).
outp(5,8,'3',3).
outp(5,9,'1',3).
outp(5,11,'1',3).
outp(5,12,'1',3).
outp(5,14,'1',3).
outp(5,15,'1',3).
outp(6,1,'1',3).
outp(6,4,'3',3).
outp(6,5,'8',3).
outp(6,6,'8',3).
outp(6,7,'3',3).
outp(6,8,'8',3).
outp(6,10,'1',3).
outp(6,13,'1',3).
outp(6,16,'1',3).
outp(7,0,'1',3).
outp(7,2,'1',3).
outp(7,3,'1',3).
outp(7,4,'8',3).
outp(7,5,'3',3).
outp(7,6,'3',3).
outp(7,7,'8',3).
outp(7,8,'3',3).
outp(7,9,'1',3).
outp(7,11,'1',3).
outp(7,12,'1',3).
outp(7,14,'1',3).
outp(7,15,'1',3).
outp(8,1,'1',3).
outp(8,4,'1',3).
outp(8,7,'1',3).
outp(8,10,'1',3).
outp(8,13,'1',3).
outp(8,16,'1',3).
outp(9,0,'1',3).
outp(9,2,'1',3).
outp(9,3,'1',3).
outp(9,5,'1',3).
outp(9,6,'1',3).
outp(9,8,'1',3).
outp(9,9,'1',3).
outp(9,11,'1',3).
outp(9,12,'1',3).
outp(9,14,'1',3).
outp(9,15,'1',3).
outp(10,1,'1',3).
outp(10,4,'1',3).
outp(10,7,'1',3).
outp(10,10,'1',3).
outp(10,13,'1',3).
outp(10,16,'1',3).
outp(11,0,'1',3).
outp(11,2,'1',3).
outp(11,3,'1',3).
outp(11,5,'1',3).
outp(11,6,'1',3).
outp(11,8,'1',3).
outp(11,9,'1',3).
outp(11,11,'1',3).
outp(11,12,'1',3).
outp(11,14,'1',3).
outp(11,15,'1',3).
outp(12,1,'1',3).
outp(12,4,'1',3).
outp(12,7,'1',3).
outp(12,10,'1',3).
outp(12,13,'1',3).
outp(12,16,'1',3).
outp(13,0,'1',3).
outp(13,2,'1',3).
outp(13,3,'1',3).
outp(13,5,'1',3).
outp(13,6,'1',3).
outp(13,8,'1',3).
outp(13,9,'1',3).
outp(13,11,'1',3).
outp(13,12,'1',3).
outp(13,14,'1',3).
outp(13,15,'1',3).
outp(14,1,'1',3).
outp(14,4,'1',3).
outp(14,7,'1',3).
outp(14,10,'1',3).
outp(14,13,'1',3).
outp(14,16,'1',3).
outp(15,0,'1',3).
outp(15,2,'1',3).
outp(15,3,'1',3).
outp(15,5,'1',3).
outp(15,6,'1',3).
outp(15,8,'1',3).
outp(15,9,'1',3).
outp(15,11,'1',3).
outp(15,12,'1',3).
outp(15,14,'1',3).
outp(15,15,'1',3).
outp(16,1,'1',3).
outp(16,4,'1',3).
outp(16,7,'1',3).
outp(16,10,'1',3).
outp(16,13,'1',3).
outp(16,16,'1',3).
:-end_in_pos.


o1(X,Y,'1',I):-inp(X,Y,'1',I).
o1(X,Y,'8',I):-inp(X,Y,'8',I).
o1(X,Y,'3',I):-xmax(XMa,'8',I), xmin(XMi,'8',I),btw1(XMi,XMa,X),ymax(YMa,'8',I), ymin(YMi,'8',I),btw1(YMi,YMa,Y).


flatten_body((A, B), Atoms) :- 
    flatten_body(A, AtomsA),   % Recursively flatten the left part
    flatten_body(B, AtomsB),   % Recursively flatten the right part
    append(AtomsA, AtomsB, Atoms).  % Combine the results
flatten_body(A, [A]) :- 
    A \= (_, _).  % Base case: A is a single atom, not a conjunction

pred_inlist(Pred):-
    functor(Pred,Name,_),
    member(Name, ['inp','xmax','xmin','ymin','ymax']).

% Helper predicate to check if any element in a list does not satisfy cond/1
check_any_not_cond(Head, [H|_]) :-
    \+ check_io(Head, H),  % If the head does not satisfy the condition, succeed
    !.           % Cut to prevent backtracking once a non-satisfying condition is found
check_any_not_cond(Head,[_|T]) :-
    check_any_not_cond(Head, T).  % Otherwise, check the rest of the list

prune1((Head :- Body)) :-
    flatten_body(Body, Atoms),  % Flatten the body into a list of atoms
    check_any_not_cond(Head,Atoms). 

check_io(Head, BodyElement):-
    ((pred_inlist(BodyElement), BodyElement=..F,last(F,I))
    -> 
    outp(_,_,_,I1)=Head, I1==I
    ;
    true
    ).
    